{"ast":null,"code":"var _jsxFileName = \"/Users/Stephanie/Desktop/turtle-travel/src/components/ReadFile.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { load_input_data } from '../Redux/inputData/inputData-action';\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    load_input_data: status => dispatch(load_input_data(status))\n  };\n};\n\nclass ReadFile extends Component {\n  constructor() {\n    super();\n    this.showFile = this.showFile.bind(this);\n  }\n\n  showFile() {\n    if (window.File && window.FileReader && window.FileList && window.Blob) {\n      var preview = document.getElementById('show-text');\n      var file = document.querySelector('input[type=file]').files[0];\n      var reader = new FileReader();\n      var textFile = /text.*/;\n      var temp_data;\n\n      if (file.type.match(textFile)) {\n        reader.onload = function (event) {\n          console.log(\"yoyoyo\");\n          temp_data = event.target.result;\n          console.log(\"hihihi\");\n          console.log(temp_data);\n          this.props.load_input_data(event.target.result);\n        };\n      } else {\n        preview.innerHTML = \"<span class='error'>It doesn't seem to be a text file!</span>\";\n      }\n\n      reader.readAsText(file);\n      this.setState({\n        input_data: \"ABC\"\n      });\n    } else {\n      alert(\"Your browser is too old to support HTML5 File API\");\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.showFile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"show-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }, \"Choose text File\"));\n  }\n\n}\n\nexport default connect(null, mapDispatchToProps)(ReadFile);","map":{"version":3,"sources":["/Users/Stephanie/Desktop/turtle-travel/src/components/ReadFile.jsx"],"names":["React","Component","connect","load_input_data","mapDispatchToProps","dispatch","status","ReadFile","constructor","showFile","bind","window","File","FileReader","FileList","Blob","preview","document","getElementById","file","querySelector","files","reader","textFile","temp_data","type","match","onload","event","console","log","target","result","props","innerHTML","readAsText","setState","input_data","alert","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,eAAT,QAAgC,qCAAhC;;AAGA,MAAMC,kBAAkB,GAAGC,QAAQ,IAAI;AACrC,SAAO;AACLF,IAAAA,eAAe,EAAGG,MAAD,IAAYD,QAAQ,CAACF,eAAe,CAACG,MAAD,CAAhB;AADhC,GAAP;AAGD,CAJD;;AAMA,MAAMC,QAAN,SAAuBN,SAAvB,CAAiC;AAC/BO,EAAAA,WAAW,GAAG;AACZ;AACA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAhB;AACD;;AAEDD,EAAAA,QAAQ,GAAK;AACX,QAAIE,MAAM,CAACC,IAAP,IAAeD,MAAM,CAACE,UAAtB,IAAoCF,MAAM,CAACG,QAA3C,IAAuDH,MAAM,CAACI,IAAlE,EAAwE;AACtE,UAAIC,OAAO,GAAGC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAd;AACA,UAAIC,IAAI,GAAGF,QAAQ,CAACG,aAAT,CAAuB,kBAAvB,EAA2CC,KAA3C,CAAiD,CAAjD,CAAX;AACA,UAAIC,MAAM,GAAG,IAAIT,UAAJ,EAAb;AACA,UAAIU,QAAQ,GAAG,QAAf;AACA,UAAIC,SAAJ;;AAEA,UAAIL,IAAI,CAACM,IAAL,CAAUC,KAAV,CAAgBH,QAAhB,CAAJ,EAA+B;AAC7BD,QAAAA,MAAM,CAACK,MAAP,GAAgB,UAAUC,KAAV,EAAiB;AAC/BC,UAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAN,UAAAA,SAAS,GAAGI,KAAK,CAACG,MAAN,CAAaC,MAAzB;AACAH,UAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAD,UAAAA,OAAO,CAACC,GAAR,CAAYN,SAAZ;AACA,eAAKS,KAAL,CAAW9B,eAAX,CAA2ByB,KAAK,CAACG,MAAN,CAAaC,MAAxC;AACD,SAND;AAOD,OARD,MAQO;AACLhB,QAAAA,OAAO,CAACkB,SAAR,GAAoB,+DAApB;AACD;;AACDZ,MAAAA,MAAM,CAACa,UAAP,CAAkBhB,IAAlB;AACA,WAAKiB,QAAL,CAAc;AAACC,QAAAA,UAAU,EAAE;AAAb,OAAd;AACD,KApBD,MAoBO;AACLC,MAAAA,KAAK,CAAC,mDAAD,CAAL;AACD;AACF;;AAEDC,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,QAAQ,EAAE,KAAK9B,QAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE;AAAK,MAAA,EAAE,EAAC,WAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFF,CADF;AAMD;;AAvC8B;;AA2CjC,eAAeP,OAAO,CAAC,IAAD,EAAOE,kBAAP,CAAP,CAAkCG,QAAlC,CAAf","sourcesContent":["import React, { Component } from 'react';\n\nimport { connect } from 'react-redux';\nimport { load_input_data } from '../Redux/inputData/inputData-action';\n\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    load_input_data: (status) => dispatch(load_input_data(status))\n  }\n}\n\nclass ReadFile extends Component {\n  constructor() {\n    super();\n    this.showFile = this.showFile.bind(this);\n  }\n\n  showFile ()  {\n    if (window.File && window.FileReader && window.FileList && window.Blob) {\n      var preview = document.getElementById('show-text');\n      var file = document.querySelector('input[type=file]').files[0];\n      var reader = new FileReader();\n      var textFile = /text.*/;\n      var temp_data;\n\n      if (file.type.match(textFile)) {\n        reader.onload = function (event) {\n          console.log(\"yoyoyo\");\n          temp_data = event.target.result;\n          console.log(\"hihihi\");\n          console.log(temp_data);\n          this.props.load_input_data(event.target.result);\n        }\n      } else {\n        preview.innerHTML = \"<span class='error'>It doesn't seem to be a text file!</span>\";\n      }\n      reader.readAsText(file);\n      this.setState({input_data: \"ABC\"});\n    } else {\n      alert(\"Your browser is too old to support HTML5 File API\");\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <input type=\"file\" onChange={this.showFile} />\n        <div id=\"show-text\">Choose text File</div>\n      </div>\n    );\n  }\n}\n\n\nexport default connect(null, mapDispatchToProps)(ReadFile);\n"]},"metadata":{},"sourceType":"module"}