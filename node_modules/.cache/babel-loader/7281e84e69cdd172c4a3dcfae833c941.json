{"ast":null,"code":"var _jsxFileName = \"/Users/Stephanie/Desktop/turtle-travel/src/components/readFile/ReadFile.jsx\";\nimport React, { Component } from 'react';\nimport './ReadFileStyles.css';\nimport { connect } from 'react-redux';\nimport { load_input_data } from '../../Redux/inputData/inputData-action';\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    load_input_data: data => dispatch(load_input_data(data))\n  };\n};\n\nclass ReadFile extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.showFile = event => {\n      if (window.File && window.FileReader && window.FileList && window.Blob) {\n        var preview = document.getElementById('show-text');\n        var file = document.querySelector('input[type=file]').files[0];\n        var reader = new FileReader();\n        var textFile = /text.*/;\n\n        if (file.type.match(textFile)) {\n          reader.onload = event => {\n            this.props.load_input_data(event.target.result);\n            preview.innerHTML = \"<span>Upload success!</span>\";\n          };\n        } else {\n          preview.innerHTML = \"<span class='error'>It doesn't seem to be a text file!</span>\";\n        }\n\n        reader.readAsText(file);\n        this.setState({\n          input_data: \"ABC\"\n        });\n      } else {\n        alert(\"Your browser is too old to support HTML5 File API\");\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dl-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tc input-file-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"input-file\",\n      id: \"my-file\",\n      type: \"file\",\n      onChange: this.showFile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      tabindex: \"0\",\n      for: \"my-file\",\n      className: \"input-file-trigger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }\n    }, \"Select a file here\")), /*#__PURE__*/React.createElement(\"p\", {\n      id: \"show-text\",\n      className: \"show-msg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default connect(null, mapDispatchToProps)(ReadFile);","map":{"version":3,"sources":["/Users/Stephanie/Desktop/turtle-travel/src/components/readFile/ReadFile.jsx"],"names":["React","Component","connect","load_input_data","mapDispatchToProps","dispatch","data","ReadFile","showFile","event","window","File","FileReader","FileList","Blob","preview","document","getElementById","file","querySelector","files","reader","textFile","type","match","onload","props","target","result","innerHTML","readAsText","setState","input_data","alert","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,sBAAP;AAEA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,eAAT,QAAgC,wCAAhC;;AAGA,MAAMC,kBAAkB,GAAIC,QAAD,IAAc;AACvC,SAAO;AACLF,IAAAA,eAAe,EAAGG,IAAD,IAAUD,QAAQ,CAACF,eAAe,CAACG,IAAD,CAAhB;AAD9B,GAAP;AAGD,CAJD;;AAMA,MAAMC,QAAN,SAAuBN,SAAvB,CAAiC;AAAA;AAAA;;AAAA,SAE/BO,QAF+B,GAEnBC,KAAD,IAAW;AACpB,UAAIC,MAAM,CAACC,IAAP,IAAeD,MAAM,CAACE,UAAtB,IAAoCF,MAAM,CAACG,QAA3C,IAAuDH,MAAM,CAACI,IAAlE,EAAwE;AACtE,YAAIC,OAAO,GAAGC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAd;AACA,YAAIC,IAAI,GAAGF,QAAQ,CAACG,aAAT,CAAuB,kBAAvB,EAA2CC,KAA3C,CAAiD,CAAjD,CAAX;AACA,YAAIC,MAAM,GAAG,IAAIT,UAAJ,EAAb;AACA,YAAIU,QAAQ,GAAG,QAAf;;AAEA,YAAIJ,IAAI,CAACK,IAAL,CAAUC,KAAV,CAAgBF,QAAhB,CAAJ,EAA+B;AAC7BD,UAAAA,MAAM,CAACI,MAAP,GAAgBhB,KAAK,IAAI;AACvB,iBAAKiB,KAAL,CAAWvB,eAAX,CAA2BM,KAAK,CAACkB,MAAN,CAAaC,MAAxC;AACAb,YAAAA,OAAO,CAACc,SAAR,GAAoB,8BAApB;AACD,WAHD;AAID,SALD,MAKO;AACLd,UAAAA,OAAO,CAACc,SAAR,GAAoB,+DAApB;AACD;;AACDR,QAAAA,MAAM,CAACS,UAAP,CAAkBZ,IAAlB;AACA,aAAKa,QAAL,CAAc;AAACC,UAAAA,UAAU,EAAE;AAAb,SAAd;AACD,OAhBD,MAgBO;AACLC,QAAAA,KAAK,CAAC,mDAAD,CAAL;AACD;AACF,KAtB8B;AAAA;;AAwB/BC,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,SAAS,EAAC,YAAjB;AAA8B,MAAA,EAAE,EAAC,SAAjC;AAA2C,MAAA,IAAI,EAAC,MAAhD;AAAuD,MAAA,QAAQ,EAAE,KAAK1B,QAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE;AAAO,MAAA,QAAQ,EAAC,GAAhB;AAAoB,MAAA,GAAG,EAAC,SAAxB;AAAkC,MAAA,SAAS,EAAC,oBAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAFF,CADF,eAKE;AAAG,MAAA,EAAE,EAAC,WAAN;AAAkB,MAAA,SAAS,EAAC,UAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,CADF;AASD;;AAlC8B;;AAqCjC,eAAeN,OAAO,CAAC,IAAD,EAAOE,kBAAP,CAAP,CAAkCG,QAAlC,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport './ReadFileStyles.css';\n\nimport { connect } from 'react-redux';\nimport { load_input_data } from '../../Redux/inputData/inputData-action';\n\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    load_input_data: (data) => dispatch(load_input_data(data))\n  }\n}\n\nclass ReadFile extends Component {\n \n  showFile = (event) => {\n    if (window.File && window.FileReader && window.FileList && window.Blob) {\n      var preview = document.getElementById('show-text');\n      var file = document.querySelector('input[type=file]').files[0];\n      var reader = new FileReader();\n      var textFile = /text.*/;\n\n      if (file.type.match(textFile)) {\n        reader.onload = event => {\n          this.props.load_input_data(event.target.result);\n          preview.innerHTML = \"<span>Upload success!</span>\";\n        }\n      } else {\n        preview.innerHTML = \"<span class='error'>It doesn't seem to be a text file!</span>\";\n      }\n      reader.readAsText(file);\n      this.setState({input_data: \"ABC\"});\n    } else {\n      alert(\"Your browser is too old to support HTML5 File API\");\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"dl-box\">\n        <div className=\"tc input-file-container\">  \n          <input className=\"input-file\" id=\"my-file\" type=\"file\" onChange={this.showFile} />\n          <label tabindex=\"0\" for=\"my-file\" className=\"input-file-trigger\">Select a file here</label>\n        </div>\n        <p id=\"show-text\" className=\"show-msg\"></p>\n      </div>\n    );\n  }\n}\n\nexport default connect(null, mapDispatchToProps)(ReadFile);\n\n"]},"metadata":{},"sourceType":"module"}