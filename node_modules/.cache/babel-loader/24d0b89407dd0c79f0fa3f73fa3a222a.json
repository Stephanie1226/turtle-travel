{"ast":null,"code":"import _classCallCheck from\"/Users/Stephanie/Desktop/github/turtle-travel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Stephanie/Desktop/github/turtle-travel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Stephanie/Desktop/github/turtle-travel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Stephanie/Desktop/github/turtle-travel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./ReadFileStyles.css';import{connect}from'react-redux';import{load_input_data as _load_input_data}from'../../Redux/inputData/inputData-action';var mapDispatchToProps=function mapDispatchToProps(dispatch){return{load_input_data:function load_input_data(data){return dispatch(_load_input_data(data));}};};var ReadFile=/*#__PURE__*/function(_Component){_inherits(ReadFile,_Component);var _super=_createSuper(ReadFile);function ReadFile(){var _this;_classCallCheck(this,ReadFile);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.showFile=function(event){if(window.File&&window.FileReader&&window.FileList&&window.Blob){var preview=document.getElementById('show-text');var file=document.querySelector('input[type=file]').files[0];var reader=new FileReader();var textFile=/text.*/;if(file.type.match(textFile)){reader.onload=function(event){_this.props.load_input_data(event.target.result);preview.innerHTML=\"<span>Upload success!</span>\";};}else{preview.innerHTML=\"<span class='error'>It doesn't seem to be a text file!</span>\";}reader.readAsText(file);_this.setState({input_data:\"ABC\"});}else{alert(\"Your browser is too old to support HTML5 File API\");}};return _this;}_createClass(ReadFile,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"dl-box\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tc input-file-container\"},/*#__PURE__*/React.createElement(\"input\",{className:\"input-file\",id:\"my-file\",type:\"file\",onChange:this.showFile}),/*#__PURE__*/React.createElement(\"label\",{tabindex:\"0\",for:\"my-file\",className:\"input-file-trigger\"},\"Select a file here\")),/*#__PURE__*/React.createElement(\"p\",{id:\"show-text\",className:\"show-msg\"}));}}]);return ReadFile;}(Component);export default connect(null,mapDispatchToProps)(ReadFile);","map":{"version":3,"sources":["/Users/Stephanie/Desktop/github/turtle-travel/src/components/readFile/ReadFile.jsx"],"names":["React","Component","connect","load_input_data","mapDispatchToProps","dispatch","data","ReadFile","showFile","event","window","File","FileReader","FileList","Blob","preview","document","getElementById","file","querySelector","files","reader","textFile","type","match","onload","props","target","result","innerHTML","readAsText","setState","input_data","alert"],"mappings":"goBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,sBAAP,CAEA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,eAAe,GAAfA,CAAAA,gBAAT,KAAgC,wCAAhC,CAEA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,CAAc,CACvC,MAAO,CACLF,eAAe,CAAE,yBAACG,IAAD,QAAUD,CAAAA,QAAQ,CAACF,gBAAe,CAACG,IAAD,CAAhB,CAAlB,EADZ,CAAP,CAGD,CAJD,C,GAMMC,CAAAA,Q,mUAEJC,Q,CAAW,SAACC,KAAD,CAAW,CACpB,GAAIC,MAAM,CAACC,IAAP,EAAeD,MAAM,CAACE,UAAtB,EAAoCF,MAAM,CAACG,QAA3C,EAAuDH,MAAM,CAACI,IAAlE,CAAwE,CACtE,GAAIC,CAAAA,OAAO,CAAGC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAd,CACA,GAAIC,CAAAA,IAAI,CAAGF,QAAQ,CAACG,aAAT,CAAuB,kBAAvB,EAA2CC,KAA3C,CAAiD,CAAjD,CAAX,CACA,GAAIC,CAAAA,MAAM,CAAG,GAAIT,CAAAA,UAAJ,EAAb,CACA,GAAIU,CAAAA,QAAQ,CAAG,QAAf,CAEA,GAAIJ,IAAI,CAACK,IAAL,CAAUC,KAAV,CAAgBF,QAAhB,CAAJ,CAA+B,CAC7BD,MAAM,CAACI,MAAP,CAAgB,SAAAhB,KAAK,CAAI,CACvB,MAAKiB,KAAL,CAAWvB,eAAX,CAA2BM,KAAK,CAACkB,MAAN,CAAaC,MAAxC,EACAb,OAAO,CAACc,SAAR,CAAoB,8BAApB,CACD,CAHD,CAID,CALD,IAKO,CACLd,OAAO,CAACc,SAAR,CAAoB,+DAApB,CACD,CACDR,MAAM,CAACS,UAAP,CAAkBZ,IAAlB,EACA,MAAKa,QAAL,CAAc,CAACC,UAAU,CAAE,KAAb,CAAd,EACD,CAhBD,IAgBO,CACLC,KAAK,CAAC,mDAAD,CAAL,CACD,CACF,C,2EAEQ,CACP,mBACE,2BAAK,SAAS,CAAC,QAAf,eACE,2BAAK,SAAS,CAAC,yBAAf,eACE,6BAAO,SAAS,CAAC,YAAjB,CAA8B,EAAE,CAAC,SAAjC,CAA2C,IAAI,CAAC,MAAhD,CAAuD,QAAQ,CAAE,KAAKzB,QAAtE,EADF,cAEE,6BAAO,QAAQ,CAAC,GAAhB,CAAoB,GAAG,CAAC,SAAxB,CAAkC,SAAS,CAAC,oBAA5C,uBAFF,CADF,cAKE,yBAAG,EAAE,CAAC,WAAN,CAAkB,SAAS,CAAC,UAA5B,EALF,CADF,CASD,C,sBAlCoBP,S,EAqCvB,cAAeC,CAAAA,OAAO,CAAC,IAAD,CAAOE,kBAAP,CAAP,CAAkCG,QAAlC,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport './ReadFileStyles.css';\n\nimport { connect } from 'react-redux';\nimport { load_input_data } from '../../Redux/inputData/inputData-action';\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    load_input_data: (data) => dispatch(load_input_data(data))\n  }\n}\n\nclass ReadFile extends Component {\n \n  showFile = (event) => {\n    if (window.File && window.FileReader && window.FileList && window.Blob) {\n      var preview = document.getElementById('show-text');\n      var file = document.querySelector('input[type=file]').files[0];\n      var reader = new FileReader();\n      var textFile = /text.*/;\n\n      if (file.type.match(textFile)) {\n        reader.onload = event => {\n          this.props.load_input_data(event.target.result);\n          preview.innerHTML = \"<span>Upload success!</span>\";\n        }\n      } else {\n        preview.innerHTML = \"<span class='error'>It doesn't seem to be a text file!</span>\";\n      }\n      reader.readAsText(file);\n      this.setState({input_data: \"ABC\"});\n    } else {\n      alert(\"Your browser is too old to support HTML5 File API\");\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"dl-box\">\n        <div className=\"tc input-file-container\">  \n          <input className=\"input-file\" id=\"my-file\" type=\"file\" onChange={this.showFile} />\n          <label tabindex=\"0\" for=\"my-file\" className=\"input-file-trigger\">Select a file here</label>\n        </div>\n        <p id=\"show-text\" className=\"show-msg\"></p>\n      </div>\n    );\n  }\n}\n\nexport default connect(null, mapDispatchToProps)(ReadFile);\n\n"]},"metadata":{},"sourceType":"module"}